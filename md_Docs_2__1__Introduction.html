<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Recast Navigation: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Recast Navigation
   </div>
   <div id="projectbrief">Navigation-mesh Toolset for Games</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_Docs_2__1__Introduction.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Introduction</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="introduction"></a> </p>
<h1><a class="anchor" id="what-is-a-navmesh-and-how-does-it-work"></a>
What is a Navmesh and how does it work?</h1>
<p>Most modern, complex 3D games rely on <a href="https://en.wikipedia.org/wiki/Navigation_mesh">navmeshes</a> to drive their pathfinding and AI agent movement and navigation. <br  />
</p>
<p>A navmesh is a simplified view of the traversable area of a game world, optimized for AI pathfiding and movement calculations. Navmeshes are usually built from the physics colliders of the world, since they define the areas an AI can legally exist.</p>
<p>Triangles in a navmesh represent nodes in the pathfinding graph, and edges between adjacent polygons define connections between these nodes. Pathfinding queries first construct a path consisting of a strip of adjacent polygons. This represents the "corridor" of space that leads the agent to their goal. That polygonal path is refined into sequence of line-segments through a <a href="http://idm-lab.org/bib/abstracts/papers/socs20c.pdf">string-pulling algorithm</a>. Agents can then follow this sequence of waypoints to reach their goal.</p>
<h2><a class="anchor" id="agent-attributes"></a>
Agent Attributes</h2>
<p>A navmesh is usually tailored to a specific type of AI agent with a specific size and set of movement capabilities. After all, the areas that a huge ogre, or a medium human, or a tiny mouse can move in are very different. Because of this, it's often necessary to build multiple navmeshes for the same environment to accommodate different agent types.</p>
<p>AI size is the most important attribute and is defined in Recast as a radius and height. You can think of these values as representing either a cylinder or a capsule.</p>
<p>A maximum slope value defines the steepest angle geometry a character can walk. This helps ensure it doesn't try to walk up or down steep cliffs. <br  />
</p>
<p>Finally, a maximum "step up" height defines the highest obstacle an AI agent can step up. This helps Recast know that an AI shouldn't get stuck thinking it can't step over a small curb or up a flight of stairs.</p>
<h1><a class="anchor" id="what-is-a-navmesh-not"></a>
What is a Navmesh not?</h1>
<p>While a navmesh is a simplified version of a world's collision geometry, it is solving a fundamentally different problem. Very often, navmesh generation will sacrifice some accuracy in favor of geometry simplification. With navmesh pathfinding in games, it's more often than not better to have faster, slightly less accurate queries, than extremely-precise optimal paths. <br  />
</p>
<p>For these reasons you should not use the navmesh or paths generated by the navmesh as collision geometry or animation splines. Detour provides an AI movement controller that demonstrates how path-following should work with the paths generated by navmesh path queries.</p>
<h1><a class="anchor" id="what-is-recast-navigation"></a>
What is Recast Navigation?</h1>
<p>Recast is a set of tools for fully automating the navmesh building process, loading and streaming navmesh data, pathfidning and querying navmeshes at runtime, controlling AI agent movement, and more. It was originally created by Mikko Mononen in 2009 and has shipped in countless indie games, AAA titles, and commercial and open-source game engines such as Unity, Unreal, Godot, and O3DE.</p>
<p>Recast is roughly divided into two parts. "Recast" is the process that automates the navmesh building process, and is what most games and game engines use. "Detour" is the set of runtime systems for working with navmesh data, performing path queries, and controlling agent movement.</p>
<h1><a class="anchor" id="high-level-overview-of-the-recast-navmesh-building-process"></a>
High-level overview of the Recast Navmesh-Building Process</h1>
<p>Recast builds navmeshes utilizing an mesh rasterization process. This process takes your input geometry, converts it to voxels, performs transformations to refine and filter the voxel data, and then re-triangulates voxels into an output navmesh. This has a number of benefits:</p>
<ul>
<li>Robustly handles large amounts of overlapping geometry, small triangles, and imperfect geometry.</li>
<li>Allows for large amounts of customization and specialization of the navigation data. Recasts's process allows you to hook in your own code for things like automated cover-point generation.</li>
<li>Clear, fine-grained performance/quality tradeoff. By modifying the rasterization voxel size, it's possible to significantly alter the generation time and quality of the resulting navmesh to suit specific workflow or budget needs.</li>
<li>Issues with navmesh generation are easy to debug and visualize as voxels, rather than large sets of complex geometry.</li>
<li>The voxelization process allows for straightforward mesh re-building and streaming.</li>
</ul>
<p>Recast showcases two approaches to building navmeshes in the "RecastDemo" project. <br  />
</p>
<p><code><a class="el" href="Sample__SoloMesh_8cpp.html">Sample_SoloMesh.cpp</a></code> shows the basics of building a single navmesh for a small game world. This process is the simplest version of working with Recast. The build process is outlined in <code><a class="el" href="classSample__SoloMesh.html#aa64471f37aa3d47e0efb58d01004d259">Sample_SoloMesh::handleBuild</a></code>, but essentially breaks down to calling the following functions:</p>
<div class="fragment"><div class="line">// Figure out how big the raster voxel grid will be based on the input geometry bounds.</div>
<div class="line">rcCalcGridSize</div>
<div class="line"> </div>
<div class="line">// Voxelize the input geometry</div>
<div class="line">rcAllocHeightfield</div>
<div class="line">rcCreateHeightfield</div>
<div class="line">rcMarkWalkableTriangles</div>
<div class="line">rcRasterizeTriangles</div>
<div class="line"> </div>
<div class="line">// Clean up the voxel data and filter out non-walkable areas.</div>
<div class="line">rcFilterLowHangingWalkableObstacles</div>
<div class="line">rcFilterLedgeSpans</div>
<div class="line">rcFilterWalkableLowHeightSpans</div>
<div class="line"> </div>
<div class="line">// Consolidate the voxel data into a more compact representation</div>
<div class="line">rcAllocCompactHeightfield</div>
<div class="line">rcBuildCompactHeightfield</div>
<div class="line"> </div>
<div class="line">// Further refine the voxel representation</div>
<div class="line">rcErodeWalkableArea</div>
<div class="line">rcBuildDistanceField</div>
<div class="line">rcBuildRegions</div>
<div class="line"> </div>
<div class="line">// Triangulate the navmesh polygons from the voxel data</div>
<div class="line">rcAllocContourSet</div>
<div class="line">rcBuildContours</div>
<div class="line">rcAllocPolyMesh</div>
<div class="line">rcBuildPolyMesh</div>
<div class="line"> </div>
<div class="line">// Package the mesh with additional metadata that&#39;s useful at runtime.</div>
<div class="line">rcAllocPolyMeshDetail</div>
<div class="line">rcBuildPolyMeshDetail</div>
<div class="line"> </div>
<div class="line">// Cleanup</div>
<div class="line">rcFreeHeightField</div>
<div class="line">rcFreeCompactHeightfield</div>
<div class="line">rcFreeContourSet</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
      &nbsp;&nbsp;<a href="https://github.com/recastnavigation/recastnavigation">Project Home</a> 
      | <a href="./License.txt">Licence (ZLib)</a>
      | Copyright 2009 Mikko Mononen
  </ul>
</div>
</body>
</html>
